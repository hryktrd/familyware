<ion-header>
    <ion-navbar>
        <ion-title>{{userInfo.name}}さんの買い物リスト</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <h2>買い物リスト</h2>
    <ion-list>
        <ng-container *ngFor="let item of shoppingLists">
            <ion-item-sliding *ngIf="!item.comp_date">
                <ion-item>
                    {{item.task}}
                </ion-item>
                <ion-item-options side="right">
                    <button ion-button (click)="itemSelected(item)">済</button>
                    <button color="danger" ion-button (click)="deleteShpping(item.id)">削除</button>
                </ion-item-options>
            </ion-item-sliding>
        </ng-container>
    </ion-list>

    <ion-list>
        <h3>新規追加</h3>
        <ion-item>
            <ion-label floating="">買い物</ion-label>
            <ion-input name="shopping" type="text" value="" [(ngModel)]="task"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label floating="">日付</ion-label>
            <ion-datetime displayFormat="YYYY/MM/DD" [(ngModel)]="shoppingDate"></ion-datetime>
        </ion-item>
        <button ion-button (click)="addShppping()">追加</button>
    </ion-list>
    <h2>完了済み</h2>
    <ion-list>
        <ng-container *ngFor="let item of shoppingLists" (click)="itemSelected(item)">
            <button *ngIf="item.comp_date" ion-item (click)="itemSelected(item)">{{ item.task }} {{item.comp_date}}
            </button>
        </ng-container>
    </ion-list>
</ion-content>
